<div class="game-container">
  <canvas #gameCanvas class="game-canvas" (click)="togglePause()"></canvas>
  
  <!-- 菜单界面 -->
  <div class="menu-overlay" *ngIf="gameData.state === gameState.MENU">
    <div class="menu-content">
      <h1>🍰 蛋糕大冒险 🍰</h1>
      <p class="story-text">小精灵饿坏了！<br/>帮助它吃掉所有美味的蛋糕吧！</p>
      <p class="high-score">最高记录: {{ getHighScore() }} 个蛋糕</p>
      <ion-button expand="block" (click)="startGame()">开始吃蛋糕！</ion-button>
      <ion-button expand="block" fill="outline" (click)="goHome()" style="margin-top: 1rem;">
        返回主页
      </ion-button>
    </div>
  </div>

  <!-- 游戏结束界面 -->
  <div class="menu-overlay" *ngIf="gameData.state === gameState.GAME_OVER">
    <div class="menu-content">
      <h1>😢 小精灵累了</h1>
      <p class="final-score">吃了 {{ gameData.score }} 个蛋糕</p>
      <p class="high-score" *ngIf="gameData.score > getHighScore()">🎉 新纪录！</p>
      <p class="high-score" *ngIf="gameData.score <= getHighScore()">最高记录: {{ getHighScore() }} 个</p>
      <ion-button expand="block" (click)="startGame()">再试一次</ion-button>
      <ion-button expand="block" fill="outline" (click)="goHome()" style="margin-top: 1rem;">
        返回主页
      </ion-button>
    </div>
  </div>

  <!-- 胜利界面 -->
  <div class="menu-overlay" *ngIf="gameData.state === gameState.VICTORY">
    <div class="menu-content">
      <h1>🎉 太棒了！</h1>
      <p class="story-text">小精灵把所有蛋糕都吃完了！</p>
      <p class="final-score">总共吃了 {{ gameData.score }} 个蛋糕</p>
      <p class="high-score">最高记录: {{ getHighScore() }}</p>
      <ion-button expand="block" (click)="startGame()">再来一轮</ion-button>
      <ion-button expand="block" fill="outline" (click)="goHome()" style="margin-top: 1rem;">
        返回主页
      </ion-button>
    </div>
  </div>
</div>

